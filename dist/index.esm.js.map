{"version":3,"file":"index.esm.js","sources":["../src/plugin.ts"],"sourcesContent":["/*\n * Copyright 2023 Zenika\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {\n  createComponentExtension,\n  createPlugin,\n} from '@backstage/core-plugin-api';\nimport { Entity } from '@backstage/catalog-model';\n\nexport const znkGrafanaPlugin = createPlugin({\n  id: 'znk-grafana',\n});\n\nexport const ZnkGrafanaDashboard = znkGrafanaPlugin.provide(\n  createComponentExtension({\n    name: 'ZnkGrafanaDashboard',\n    component: {\n      lazy: () => import('./components/Dashboard').then(c => c.Dashboard),\n    },\n  }),\n);\n\nexport const ZNK_GRANAFA_LOCATION = 'znk.io/grafana';\n\nexport const getZnkGrafanaConfiguration = (entity: Entity) =>\n  entity.metadata.annotations?.[ZNK_GRANAFA_LOCATION]?.trim() || '';\n\nexport const isZnkGrafanaAvailable = (entity: Entity) =>\n  Boolean(getZnkGrafanaConfiguration(entity));\n"],"names":[],"mappings":";;AAsBO,MAAM,mBAAmB,YAAa,CAAA;AAAA,EAC3C,EAAI,EAAA,aAAA;AACN,CAAC,EAAA;AAEM,MAAM,sBAAsB,gBAAiB,CAAA,OAAA;AAAA,EAClD,wBAAyB,CAAA;AAAA,IACvB,IAAM,EAAA,qBAAA;AAAA,IACN,SAAW,EAAA;AAAA,MACT,IAAA,EAAM,MAAM,OAAO,iCAAwB,EAAE,IAAK,CAAA,CAAA,CAAA,KAAK,EAAE,SAAS,CAAA;AAAA,KACpE;AAAA,GACD,CAAA;AACH,EAAA;AAEO,MAAM,oBAAuB,GAAA,iBAAA;AAEvB,MAAA,0BAAA,GAA6B,CAAC,MAAgB,KAAA;AArC3D,EAAA,IAAA,EAAA,EAAA,EAAA,CAAA;AAsCE,EAAA,OAAA,CAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,KAAhB,IAA8B,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,KAA9B,mBAAqD,IAAU,EAAA,KAAA,EAAA,CAAA;AAAA,EAAA;AAE1D,MAAM,wBAAwB,CAAC,MAAA,KACpC,OAAQ,CAAA,0BAAA,CAA2B,MAAM,CAAC;;;;"}